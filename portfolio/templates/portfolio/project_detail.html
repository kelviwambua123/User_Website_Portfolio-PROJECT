{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'bootstrap.min.css' %}">
    <title>{{ project.title }}</title>

    <style>
        body {
            background-color: #d8f3dc; /* Soft light green background */
            font-family: Arial, sans-serif;
            scroll-behavior: smooth; /* Smooth scrolling */
        }

        .container {
            margin-top: 50px;
            background-color: #ffffff; /* White background for content area */
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2); /* Subtle shadow for content */
            padding: 30px;
        }

        h1 {
            font-size: 2.5rem;
            font-weight: bold;
            text-align: center;
            margin-bottom: 20px;
            text-transform: capitalize; /* Ensure title is capitalized */
            color: #2c6e49; /* Dark green color for project title */
        }
        h4 {
            font-size: 1.5rem; /* Increase the font size */
            font-style: italic; /* Make it italic */
            color: #2c6e49; /* Optional color */
        }

        p {
            font-size: 1.2rem;
            line-height: 1.6; /* Better readability */
            text-align: justify;
            margin-top: 20px;
        }

        .img-fluid {
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            max-width: 60%; /* Limit the width to 60% of the container */
            max-height: 300px; /* Set a maximum height */
            height: auto; /* Maintain aspect ratio */
            object-fit: cover; /* Ensure the image covers the area without distortion */
        }

        .btn {
            font-size: 1.1rem;
            margin: 10px 5px; /* Space between buttons */
            border-radius: 25px; /* Oval shape */
            border: 2px solid transparent; /* Transparent border */
            transition: all 0.3s; /* Smooth transition */
            color: #2c6e49; /* Dark green text color */
        }

        .btn-success {
            color: #4caf50; /* Green text */
        }
        .btn-success:hover {
            background-color: rgba(76, 175, 80, 0.2); /* Light green background on hover */
            border-color: #4caf50; /* Green border on hover */
        }

        .btn-warning {
            color: #ff9800; /* Orange text */
        }
        .btn-warning:hover {
            background-color: rgba(255, 152, 0, 0.2); /* Light orange background on hover */
            border-color: #ff9800; /* Orange border on hover */
        }

        .btn-danger {
            color: #f44336; /* Red text */
        }
        .btn-danger:hover {
            background-color: rgba(244, 67, 54, 0.2); /* Light red background on hover */
            border-color: #f44336; /* Red border on hover */
        }

        .btn-secondary {
            color: #9e9e9e; /* Gray text */
        }
        .btn-secondary:hover {
            background-color: rgba(158, 158, 158, 0.2); /* Light gray background on hover */
            border-color: #9e9e9e; /* Gray border on hover */
        }

        .text-center {
            text-align: center;
        }

        /* Feedback Section Styles */
        .feedback-section {
            background-color: #a8dadc; /* Light teal background for feedback section */
            color: white; /* White font color */
            padding: 30px;
            border-radius: 15px;
            margin-top: 30px;
        }

        .feedback-section h2 {
            font-size: 2rem;
            margin-bottom: 15px;
            color: #1d3557; /* Dark blue color for feedback title */
        }

        .feedback-section h3 {
            font-size: 1.5rem;
            margin-top: 20px;
            color: #1d3557; /* Dark blue color for sub-title */
        }

        .feedback-list {
            list-style-type: none;
            padding: 0;
            display: flex;
            flex-direction: column; /* Column layout */
            align-items: center; /* Center items */
        }

        .feedback-list li {
            background-color: #457b9d; /* Blue background for feedback items */
            border: 1px solid #ddd;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 10px;
            width: 80%; /* Set width for better alignment */
            text-align: left;
            color: white; /* Ensure text is white */
        }

        .feedback-list strong {
            font-size: 1.2rem;
        }

        .feedback-list small {
            display: block;
            font-size: 0.8rem;
            color: #d3d3d3; /* Lighter gray for small text */
        }

        .feedback-form {
            margin-bottom: 20px;
            text-align: center; /* Centering the form */
        }

        .feedback-form label {
            font-size: 1rem; /* Increase label font size */
            margin-top: 10px; /* Space above labels */
            font-weight: bold; /* Bold style */
            color: black; /* Black color */
        }

        .feedback-form textarea {
            height: 60px; /* Reduced height for textarea */
            font-size: 1rem; /* Increase font size */
            margin-top: 5px; /* Space above textarea */
            width: 100%; /* Full width */
            border-radius: 10px; /* Rounded corners */
            padding: 10px; /* Padding inside textarea */
        }

        .btn-primary {
            background-color: transparent; /* No background */
            color: #2a9d8f; /* Teal text color */
            border: 2px solid #2a9d8f; /* Teal border */
            border-radius: 25px; /* Oval shape */
            transition: all 0.3s; /* Smooth transition */
        }

        .btn-primary:hover {
            background-color: rgba(42, 157, 143, 0.2); /* Light teal background on hover */
            border-color: #2a9d8f; /* Teal border on hover */
        }

        /* Contact Us Section */
        .contact-section {
            text-align: center; /* Centering the contact section */
            margin-top: 30px; /* Space above contact section */
            padding: 20px;
            border-radius: 10px;
        }

        .contact-section h3 {
            color: #264653; /* Darker color for contact heading */
            font-weight: bold; /* Bold style */
        }
    </style>

</head>
<body>

<div class="container">
    <h1 class="text-center">{{ project.title }}</h1>
    <h4>Welcome, {{ user.username }}</h4>

    <div class="text-center">
        <img src="{{ project.image.url }}" class="img-fluid" alt="{{ project.title }}">
    </div>
    <p>{{ project.description }}</p>
    <div class="text-center">
        <a href="{{ project.link }}" class="btn btn-success">View Project Link</a>
        <a href="{% url 'portfolio:project_edit' project.pk %}" class="btn btn-warning">Edit</a>
        <a href="{% url 'portfolio:project_delete' project.pk %}" class="btn btn-danger">Delete</a>
        <a href="{% url 'portfolio:project_list' %}" class="btn btn-secondary">Back to Projects</a>
    </div>
</div>

<!-- Feedback Section -->
<div class="container feedback-section" id="feedback">
    <h2>Feedback</h2>
    <form method="post" class="feedback-form">
        {% csrf_token %}
        
        <!-- Rating -->
        <label for="id_rating">Rating:</label>
        {{ feedback_form.rating }}
        <br>
        <!-- Comment -->
        <label for="id_comment">Comment:</label>
        {{ feedback_form.comment }}
        
        <button type="submit" class="btn btn-primary">Submit Feedback</button>
    </form>

    <h3>Previous Feedback</h3>
    <ul class="feedback-list">
        {% for feedback in feedbacks %}
            <li>
                <strong>
                    {% if feedback.user %}
                        {{ feedback.user.username }}
                    {% else %}
                        Anonymous
                    {% endif %}
                </strong>
                <p>Rating: {{ feedback.rating }}</p>
                <p>{{ feedback.comment }}</p>
                <small>Submitted on {{ feedback.created_at }}</small>
            </li>
        {% empty %}
            <li>No feedback yet.</li>
        {% endfor %}
    </ul>
</div>

<!-- Contact Us Section -->
<div class="contact-section" id="contact">
    <h3>Contact Us</h3>
    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-success" role="alert">
                {{ message }}
            </div>
        {% endfor %}
    {% endif %}

    {% if form.errors %}
        <div class="alert alert-danger" role="alert">
            <strong>Please correct the following errors:</strong>
            <ul>
                {% for field, errors in form.errors.items %}
                    <li>{{ field }}: {{ errors|join:', ' }}</li>
                {% endfor %}
            </ul>
        </div>
    {% endif %}

    <form method="post" action="{% url 'portfolio:contact' project.id %}">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit" class="btn btn-primary">Send Message</button>
    </form>
</div>

<footer>
    <div class="footer-content" style="background-color: #343a40; color: white; padding: 20px; text-align: center;">
        <h3>Your Portfolio Hub</h3>
        <p>Welcome to your personal portfolio website, where you can effortlessly manage your projects. Showcase your work, keep track of your accomplishments, and make edits with ease. Our platform is designed to help you present your projects in a professional manner.</p>
        
        <div class="footer-links" style="margin: 10px 0;">
            <a href="#feedback" style="color: white;">User Feedback</a> |
            <a href="#contact" style="color: white;">Get in Touch</a>
        </div>

        <div class="footer-bottom" style="margin-top: 15px 0;">
            <p>&copy; My Projects. All rights reserved.</p>
        </div>
    </div>
</footer>

</body>
</html>